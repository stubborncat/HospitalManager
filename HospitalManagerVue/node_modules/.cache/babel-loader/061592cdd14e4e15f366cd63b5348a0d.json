{"remainingRequest":"C:\\Users\\ADMIN\\Desktop\\毕设 (2)\\HospitalManagerVue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ADMIN\\Desktop\\毕设 (2)\\HospitalManagerVue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\ADMIN\\Desktop\\毕设 (2)\\HospitalManagerVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ADMIN\\Desktop\\毕设 (2)\\HospitalManagerVue\\src\\views\\SectionMessage.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\ADMIN\\Desktop\\毕设 (2)\\HospitalManagerVue\\src\\views\\SectionMessage.vue","mtime":1710728976000},{"path":"C:\\Users\\ADMIN\\Desktop\\毕设 (2)\\HospitalManagerVue\\babel.config.js","mtime":1673698822000},{"path":"C:\\Users\\ADMIN\\Desktop\\毕设 (2)\\HospitalManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711438174000},{"path":"C:\\Users\\ADMIN\\Desktop\\毕设 (2)\\HospitalManagerVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1711438178000},{"path":"C:\\Users\\ADMIN\\Desktop\\毕设 (2)\\HospitalManagerVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1711438174000},{"path":"C:\\Users\\ADMIN\\Desktop\\毕设 (2)\\HospitalManagerVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1711438180000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGp3dERlY29kZSBmcm9tICJqd3QtZGVjb2RlIjsKaW1wb3J0IHJlcXVlc3QgZnJvbSAiQC91dGlscy9yZXF1ZXN0LmpzIjsKaW1wb3J0IHsgZ2V0VG9rZW4gfSBmcm9tICJAL3V0aWxzL3N0b3JhZ2UuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInNlY3Rpb25NZXNzYWdlIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VjdGlvbk9wdDogdGhpcy4kcm91dGUucXVlcnkuc2VjdGlvbk9wdCwKICAgICAgc2VjdGlvbkRhdGE6IFtdLAogICAgICBtb250aERheXM6IFtdLAogICAgICBjbGlja1RhZzogZmFsc2UsCiAgICAgIG9yZGVyRm9ybVZpc2libGU6IGZhbHNlLAogICAgICBvcmRlckZvcm06IHsKICAgICAgICBvcmRlckRhdGU6ICIiCiAgICAgIH0sCiAgICAgIHRpbWVzOiBbXSwKICAgICAgb3JkZXJSdWxlczogewogICAgICAgIG9UaW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6YCJ5oup5pe26Ze05q61IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIC8v5oyC5Y+35pel5pyfCiAgICAgIG9yZGVyRGF0ZTogIiIsCiAgICAgIC8v5ou85o6l5pe26Ze05ZKM5pel5pyf5oiQ5Li6b0lkCiAgICAgIGlkVGltZTogIiIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+aJk+W8gOaMguWPt+WvueivneahhuinpuWPkSzojrflj5bmjILlj7fml7bpl7TmrrXlt7LliankvZnnpajmlbAKICAgIHJlcXVlc3RUaW1lKGlkKSB7CiAgICAgIHRoaXMuaWRUaW1lID0gaWQgKyB0aGlzLm9yZGVyRGF0ZTsKICAgICAgcmVxdWVzdC5nZXQoIm9yZGVyL2ZpbmRPcmRlclRpbWUiLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBhcklkOiB0aGlzLmlkVGltZQogICAgICAgIH0KICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh0aGlzLm9yZGVyRGF0ZSk7CiAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpOwogICAgICAgIGNvbnN0IGlzVG9kYXkgPSBkYXRlLmdldEZ1bGxZZWFyKCkgPT09IHRvZGF5LmdldEZ1bGxZZWFyKCkgJiYgZGF0ZS5nZXRNb250aCgpID09PSB0b2RheS5nZXRNb250aCgpICYmIGRhdGUuZ2V0RGF0ZSgpID09PSB0b2RheS5nZXREYXRlKCk7CiAgICAgICAgdmFyIGFycmF5ID0gW107CiAgICAgICAgaWYgKCF0aGlzLmlzVGltZUFmdGVyVGFyZ2V0KCIwOTozMCIpIHx8ICFpc1RvZGF5KSB7CiAgICAgICAgICBhcnJheS5wdXNoKCIwODozMC0wOTozMCAgIiArICIgICDkvZnlj7cgIiArIHJlcy5kYXRhLmRhdGEuZVRPbik7CiAgICAgICAgfQogICAgICAgIGlmICghdGhpcy5pc1RpbWVBZnRlclRhcmdldCgiMTA6MzAiKSB8fCAhaXNUb2RheSkgewogICAgICAgICAgYXJyYXkucHVzaCgiMDk6MzAtMTA6MzAgICIgKyAiICAg5L2Z5Y+3ICIgKyByZXMuZGF0YS5kYXRhLm5UT3QpOwogICAgICAgIH0KICAgICAgICBpZiAoIXRoaXMuaXNUaW1lQWZ0ZXJUYXJnZXQoIjExOjMwIikgfHwgIWlzVG9kYXkpIHsKICAgICAgICAgIGFycmF5LnB1c2goIjEwOjMwLTExOjMwICAiICsgIiAgIOS9meWPtyAiICsgcmVzLmRhdGEuZGF0YS50VE9lKTsKICAgICAgICB9CiAgICAgICAgaWYgKCF0aGlzLmlzVGltZUFmdGVyVGFyZ2V0KCIxNTozMCIpIHx8ICFpc1RvZGF5KSB7CiAgICAgICAgICBhcnJheS5wdXNoKCIxNDozMC0xNTozMCAgIiArICIgICDkvZnlj7cgIiArIHJlcy5kYXRhLmRhdGEuZlRPZik7CiAgICAgICAgfQogICAgICAgIGlmICghdGhpcy5pc1RpbWVBZnRlclRhcmdldCgiMTY6MzAiKSB8fCAhaXNUb2RheSkgewogICAgICAgICAgYXJyYXkucHVzaCgiMTU6MzAtMTY6MzAgICIgKyAiICAg5L2Z5Y+3ICIgKyByZXMuZGF0YS5kYXRhLmZUT3MpOwogICAgICAgIH0KICAgICAgICBpZiAoIXRoaXMuaXNUaW1lQWZ0ZXJUYXJnZXQoIjE3OjMwIikgfHwgIWlzVG9kYXkpIHsKICAgICAgICAgIGFycmF5LnB1c2goIjE2OjMwLTE3OjMwICAiICsgIiAgIOS9meWPtyAiICsgcmVzLmRhdGEuZGF0YS5zVE9zKTsKICAgICAgICB9CiAgICAgICAgdGhpcy50aW1lcyA9IGFycmF5OwogICAgICB9KTsKICAgIH0sCiAgICBpc1RpbWVBZnRlclRhcmdldCh0aW1lU3RyaW5nKSB7CiAgICAgIC8vIOWIpOaWreaXtumXtOaYr+WQpui2hei/h3RpbWVTdHJpbmco5YWl5Y+C5qC85byP5aaC77yaMDk6MzApCiAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gbmV3IERhdGUoKTsKCiAgICAgIC8vIOino+aekOS8oOWFpeeahOebruagh+aXtumXtOWtl+espuS4su+8jOiOt+WPluWwj+aXtuWSjOWIhumSnwogICAgICBjb25zdCBbdGFyZ2V0SG91ciwgdGFyZ2V0TWludXRlXSA9IHRpbWVTdHJpbmcuc3BsaXQoIjoiKTsKCiAgICAgIC8vIOiuvue9ruimgeavlOi+g+eahOaXtumXtAogICAgICBjb25zdCB0YXJnZXRUaW1lID0gbmV3IERhdGUoKTsKICAgICAgdGFyZ2V0VGltZS5zZXRIb3Vycyh0YXJnZXRIb3VyKTsKICAgICAgdGFyZ2V0VGltZS5zZXRNaW51dGVzKHRhcmdldE1pbnV0ZSk7CiAgICAgIHRhcmdldFRpbWUuc2V0U2Vjb25kcygwKTsKCiAgICAgIC8vIOavlOi+g+W9k+WJjeaXtumXtOaYr+WQpui2hei/h+S6huebruagh+aXtumXtAogICAgICByZXR1cm4gY3VycmVudFRpbWUgPiB0YXJnZXRUaW1lOwogICAgfSwKICAgIC8v5oyC5Y+354K55Ye756Gu6K6kCiAgICBvcmRlclN1Y2Nlc3MoZm9ybU5hbWUpIHsKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0udmFsaWRhdGUodmFsaWQgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgcmVxdWVzdC5nZXQoInBhdGllbnQvYWRkT3JkZXIiLCB7CiAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgIHBJZDogdGhpcy5vcmRlckZvcm0ucElkLAogICAgICAgICAgICAgIGRJZDogdGhpcy5vcmRlckZvcm0uZElkLAogICAgICAgICAgICAgIG9TdGFydDogdGhpcy5vcmRlckZvcm0ub3JkZXJEYXRlICsgIiAiICsgdGhpcy5vcmRlckZvcm0ub1RpbWUsCiAgICAgICAgICAgICAgYXJJZDogdGhpcy5pZFRpbWUKICAgICAgICAgICAgfQogICAgICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzICE9IDIwMCkgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuivpeaXtumXtOauteaXoOWJqeS9meWPt+a6kO+8geivt+mHjeaWsOmAieaLqe+8gSIpOwogICAgICAgICAgICB0aGlzLm9yZGVyRm9ybVZpc2libGUgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmjILlj7fmiJDlip/vvIEiKTsKICAgICAgICAgICAgdGhpcy5vcmRlckZvcm0ub1RpbWUgPSAiIjsKICAgICAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgICAgICBpZiAoZS5yZXNwb25zZS5kYXRhID09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihlLnJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coImVycm9yIHN1Ym1pdCEhIik7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL3Rva2Vu6Kej56CBCiAgICB0b2tlbkRlY29kZSh0b2tlbikgewogICAgICBpZiAodG9rZW4gIT09IG51bGwpIHJldHVybiBqd3REZWNvZGUodG9rZW4pOwogICAgfSwKICAgIC8v5omT5byA5oyC5Y+35a+56K+d5qGGCiAgICBvcGVuQ2xpY2soaWQsIG5hbWUpIHsKICAgICAgdGhpcy5vcmRlckZvcm0uZElkID0gaWQ7CiAgICAgIHRoaXMub3JkZXJGb3JtLmROYW1lID0gbmFtZTsKICAgICAgdGhpcy5vcmRlckZvcm1WaXNpYmxlID0gdHJ1ZTsKICAgICAgLy/or7fmsYLmjILlj7fml7bpl7TmrrUKICAgICAgdGhpcy5yZXF1ZXN0VGltZShpZCk7CiAgICB9LAogICAgLy/pgInmi6nml6XmnJ/op6blj5Hml7bpl7QKICAgIGRhdGVDbGljayhkYXRlKSB7CiAgICAgIC8v6I635Y+W5oyC5Y+35bm05pyI5pelCiAgICAgIGNvbnN0IG5vd0RhdGUgPSBuZXcgRGF0ZSgpOwogICAgICBsZXQgeWVhciA9IG5vd0RhdGUuZ2V0RnVsbFllYXIoKTsKICAgICAgdGhpcy5vcmRlckZvcm0ub3JkZXJEYXRlID0geWVhciArICItIiArIGRhdGU7CiAgICAgIGxldCBkYXRlWWVhciA9IHllYXIgKyAiLSIgKyBkYXRlOwogICAgICB0aGlzLm9yZGVyRGF0ZSA9IGRhdGVZZWFyOwogICAgICByZXF1ZXN0LmdldCgiL2FycmFuZ2UvZmluZEJ5VGltZSIsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGFyVGltZTogZGF0ZVllYXIsCiAgICAgICAgICBkU2VjdGlvbjogdGhpcy5zZWN0aW9uT3B0CiAgICAgICAgfQogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgLy90aGlzLnNlY3Rpb25EYXRhLmRJZCA9IHJlcy5kYXRhLmRhdGEuZG9jdG9ycy5kSWQ7CiAgICAgICAgLyoqCiAgICAgICAgICog6YeN54K577yB77yB77yB5oqK5pWw57uE5Lit55qE5a+56LGh5Y+W5Ye65p2l55SobWFwCiAgICAgICAgICovCiAgICAgICAgdGhpcy5zZWN0aW9uRGF0YSA9IHJlcy5kYXRhLmRhdGEubWFwKGl0ZW0gPT4gaXRlbS5kb2N0b3IpOwogICAgICAgIHRoaXMuY2xpY2tUYWcgPSB0cnVlOwogICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhLmRhdGEubWFwKGl0ZW0gPT4gaXRlbS5kb2N0b3IpKTsKICAgICAgICAvL2NvbnNvbGUubG9nKHJlcy5kYXRhLmRhdGFbMF0uZG9jdG9yKTsKICAgICAgfSk7CiAgICB9LAogICAgLy/ojrflj5blvZPlpKnlj4rlkI435aSp55qE5pel5pyf5pif5pyfCiAgICBub3dEYXkobnVtKSB7CiAgICAgIHZhciBub3dEYXRlID0gbmV3IERhdGUoKTsKICAgICAgdmFyIGN1cnJlbnRIb3VyID0gbm93RGF0ZS5nZXRIb3VycygpOwogICAgICB2YXIgY3VycmVudE1pbnV0ZSA9IG5vd0RhdGUuZ2V0TWludXRlcygpOwoKICAgICAgLy8g5Yik5pat5b2T5YmN5pe26Ze05piv5ZCm5bey57uP6L+H5LqGMTc6MzAKICAgICAgaWYgKGN1cnJlbnRIb3VyID4gMTcgfHwgY3VycmVudEhvdXIgPT09IDE3ICYmIGN1cnJlbnRNaW51dGUgPiAzMCkgewogICAgICAgIG51bSsrOyAvLyDmrKHml6UKICAgICAgfQogICAgICBub3dEYXRlLnNldERhdGUobm93RGF0ZS5nZXREYXRlKCkgKyBudW0pOwogICAgICB2YXIgbW9udGggPSBub3dEYXRlLmdldE1vbnRoKCkgKyAxOwogICAgICB2YXIgZGF0ZSA9IG5vd0RhdGUuZ2V0RGF0ZSgpOwogICAgICBpZiAoZGF0ZSA8IDEwKSB7CiAgICAgICAgZGF0ZSA9ICIwIiArIGRhdGU7CiAgICAgIH0KICAgICAgaWYgKG1vbnRoIDwgMTApIHsKICAgICAgICBtb250aCA9ICIwIiArIG1vbnRoOwogICAgICB9CiAgICAgIHZhciB0aW1lID0gbW9udGggKyAiLSIgKyBkYXRlOwogICAgICB0aGlzLm1vbnRoRGF5cy5wdXNoKHRpbWUpOwogICAgfSwKICAgIC8v6K+35rGC6YOo6Zeo5Yy755Sf5L+h5oGvCiAgICByZXF1ZXN0U2VjdGlvbigpIHsKICAgICAgcmVxdWVzdC5nZXQoInBhdGllbnQvZmluZERvY3RvckJ5U2VjdGlvbiIsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGRTZWN0aW9uOiB0aGlzLiRyb3V0ZS5xdWVyeS5zZWN0aW9uT3B0CiAgICAgICAgfQogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXR1cyAhPT0gMjAwKSByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcigi6K+35rGC5pWw5o2u5aSx6LSlIik7CiAgICAgICAgdGhpcy5zZWN0aW9uRGF0YSA9IHJlcy5kYXRhLmRhdGEuZG9jdG9yczsKICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YS5kYXRhLmRvY3RvcnMpOwogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICAvL+iOt+WPluW9k+WkqeeahOWQjjflpKkKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNzsgaSsrKSB7CiAgICAgIHRoaXMubm93RGF5KGkpOwogICAgfQogICAgLy/mjInnp5HlrqTor7fmsYLljLvnlJ/kv6Hmga8KICAgIHRoaXMucmVxdWVzdFNlY3Rpb24oKTsKICAgIC8vIOino+eggXRva2VuCiAgICB0aGlzLm9yZGVyRm9ybS5wTmFtZSA9IHRoaXMudG9rZW5EZWNvZGUoZ2V0VG9rZW4oKSkucE5hbWU7CiAgICB0aGlzLm9yZGVyRm9ybS5wQ2FyZCA9IHRoaXMudG9rZW5EZWNvZGUoZ2V0VG9rZW4oKSkucENhcmQ7CiAgICB0aGlzLm9yZGVyRm9ybS5wSWQgPSB0aGlzLnRva2VuRGVjb2RlKGdldFRva2VuKCkpLnBJZDsKICAgIC8vY29uc29sZS5sb2codGhpcy5vcmRlckZvcm0ucElkKQogIH0KfTs="},{"version":3,"names":["jwtDecode","request","getToken","name","data","sectionOpt","$route","query","sectionData","monthDays","clickTag","orderFormVisible","orderForm","orderDate","times","orderRules","oTime","required","message","trigger","idTime","methods","requestTime","id","get","params","arId","then","res","date","Date","today","isToday","getFullYear","getMonth","getDate","array","isTimeAfterTarget","push","eTOn","nTOt","tTOe","fTOf","fTOs","sTOs","timeString","currentTime","targetHour","targetMinute","split","targetTime","setHours","setMinutes","setSeconds","orderSuccess","formName","$refs","validate","valid","pId","dId","oStart","status","$message","error","success","catch","e","response","undefined","console","log","tokenDecode","token","openClick","dName","dateClick","nowDate","year","dateYear","arTime","dSection","map","item","doctor","nowDay","num","currentHour","getHours","currentMinute","getMinutes","setDate","month","time","requestSection","doctors","created","i","pName","pCard"],"sources":["src/views/SectionMessage.vue"],"sourcesContent":["<template>\n    <div>\n        <!-- 卡片 -->\n        <el-card>\n            <!-- 面包屑 -->\n            <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n                <el-breadcrumb-item :to=\"{ path: '/orderOperate' }\"\n                    >科室选择</el-breadcrumb-item\n                >\n                <el-breadcrumb-item>日期选择</el-breadcrumb-item>\n                <el-breadcrumb-item>挂号</el-breadcrumb-item>\n            </el-breadcrumb>\n\n            <!-- 两边布局 -->\n            <div class=\"head\">\n                <div>\n                    <i\n                        class=\"iconfont icon-r-user1\"\n                        style=\"margin: 5px; font-size: 26px\"\n                    >\n                        {{ sectionOpt }}医生列表</i\n                    >\n                </div>\n\n                <!-- 选择挂号时间 -->\n                <div>\n                    <i class=\"iconfont icon-r-paper\" style=\"font-size: 22px\">\n                        请选择你要挂号的日期：</i\n                    >\n                    <ul class=\"dateUl\">\n                        <li v-for=\"monthDay in monthDays\" :key=\"monthDay\">\n                            <el-button\n                                icon=\"iconfont icon-r-paper\"\n                                @click=\"dateClick(monthDay)\"\n                            >\n                                {{ monthDay }}</el-button\n                            >\n                        </li>\n                    </ul>\n                </div>\n            </div>\n\n            <!-- 表格 -->\n            <el-table :data=\"sectionData\" stripe style=\"width: 100%\" border>\n                <el-table-column\n                    type=\"index\"\n                    label=\"序号\"\n                    width=\"60\"\n                ></el-table-column>\n                <el-table-column prop=\"dId\" label=\"工号\" width=\"80\">\n                </el-table-column>\n                <el-table-column prop=\"dName\" label=\"姓名\" width=\"80\">\n                </el-table-column>\n                <el-table-column prop=\"dGender\" label=\"性别\" width=\"60\">\n                </el-table-column>\n                <el-table-column prop=\"dPost\" label=\"职位\" width=\"100\">\n                </el-table-column>\n                <el-table-column\n                    prop=\"dSection\"\n                    label=\"科室\"\n                    width=\"100\"\n                ></el-table-column>\n                <el-table-column prop=\"dIntroduction\" label=\"简介\">\n                </el-table-column>\n                <el-table-column prop=\"dPhone\" label=\"电话号码\" width=\"160\">\n                </el-table-column>\n                <el-table-column label=\"操作\" width=\"140\" v-if=\"clickTag\">\n                    <template slot-scope=\"scope\">\n                        <el-button\n                            class=\"iconfont icon-r-paper\"\n                            style=\"font-size: 14px\"\n                            type=\"warning\"\n                            @click=\"openClick(scope.row.dId, scope.row.dName)\"\n                        >\n                            挂号</el-button\n                        >\n                    </template>\n                </el-table-column>\n            </el-table>\n        </el-card>\n        <!-- 挂号对话框 -->\n        <el-dialog title=\"填写挂号信息\" :visible.sync=\"orderFormVisible\">\n            <el-form :model=\"orderForm\" ref=\"orderForm\" :rules=\"orderRules\">\n                <el-form-item\n                    label=\"挂号时间段\"\n                    label-width=\"100px\"\n                    prop=\"oTime\"\n                >\n                    <el-select\n                        v-model=\"orderForm.oTime\"\n                        placeholder=\"请选择\"\n                        no-data-text=\"请尝试预约明日\"\n                    >\n                        <el-option\n                            v-for=\"time in times\"\n                            :key=\"time\"\n                            :label=\"time\"\n                            :value=\"time\"\n                        >\n                        </el-option>\n                    </el-select>\n                </el-form-item>\n                <el-form-item label=\"挂号日期\" label-width=\"100px\">\n                    <el-input\n                        v-model=\"orderForm.orderDate\"\n                        autocomplete=\"off\"\n                        disabled\n                    ></el-input>\n                </el-form-item>\n                <el-form-item label=\"医生工号\" label-width=\"100px\">\n                    <el-input\n                        v-model=\"orderForm.dId\"\n                        autocomplete=\"off\"\n                        disabled\n                    ></el-input>\n                </el-form-item>\n                <el-form-item label=\"医生姓名\" label-width=\"100px\">\n                    <el-input\n                        v-model=\"orderForm.dName\"\n                        autocomplete=\"off\"\n                        disabled\n                    ></el-input>\n                </el-form-item>\n                <el-form-item label=\"患者姓名\" label-width=\"100px\">\n                    <el-input\n                        v-model=\"orderForm.pName\"\n                        autocomplete=\"off\"\n                        disabled\n                    ></el-input>\n                </el-form-item>\n                <el-form-item label=\"患者身份证号\" label-width=\"100px\">\n                    <el-input\n                        v-model=\"orderForm.pCard\"\n                        autocomplete=\"off\"\n                        disabled\n                    ></el-input>\n                </el-form-item>\n            </el-form>\n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button\n                    @click=\"orderFormVisible = false\"\n                    style=\"font-size: 18px\"\n                    ><i\n                        class=\"iconfont icon-r-left\"\n                        style=\"font-size: 20px\"\n                    ></i>\n                    取 消</el-button\n                >\n                <el-button\n                    type=\"primary\"\n                    @click=\"orderSuccess('orderForm')\"\n                    style=\"font-size: 18px\"\n                    ><i class=\"iconfont icon-r-yes\" style=\"font-size: 20px\"></i>\n                    确 定</el-button\n                >\n            </div>\n        </el-dialog>\n    </div>\n</template>\n<script>\nimport jwtDecode from \"jwt-decode\";\nimport request from \"@/utils/request.js\";\nimport { getToken } from \"@/utils/storage.js\";\nexport default {\n    name: \"sectionMessage\",\n    data() {\n        return {\n            sectionOpt: this.$route.query.sectionOpt,\n            sectionData: [],\n            monthDays: [],\n            clickTag: false,\n            orderFormVisible: false,\n            orderForm: { orderDate: \"\" },\n            times: [],\n            orderRules: {\n                oTime: [\n                    { required: true, message: \"选择时间段\", trigger: \"blur\" },\n                ],\n            },\n            //挂号日期\n            orderDate: \"\",\n            //拼接时间和日期成为oId\n            idTime: \"\",\n        };\n    },\n    methods: {\n        //打开挂号对话框触发,获取挂号时间段已剩余票数\n        requestTime(id) {\n            this.idTime = id + this.orderDate;\n            request\n                .get(\"order/findOrderTime\", {\n                    params: {\n                        arId: this.idTime,\n                    },\n                })\n                .then((res) => {\n                    const date = new Date(this.orderDate);\n                    const today = new Date();\n                    const isToday =\n                        date.getFullYear() === today.getFullYear() &&\n                        date.getMonth() === today.getMonth() &&\n                        date.getDate() === today.getDate();\n                    var array = [];\n                    if (!this.isTimeAfterTarget(\"09:30\") || !isToday) {\n                        array.push(\n                            \"08:30-09:30  \" + \"   余号 \" + res.data.data.eTOn\n                        );\n                    }\n                    if (!this.isTimeAfterTarget(\"10:30\") || !isToday) {\n                        array.push(\n                            \"09:30-10:30  \" + \"   余号 \" + res.data.data.nTOt\n                        );\n                    }\n                    if (!this.isTimeAfterTarget(\"11:30\") || !isToday) {\n                        array.push(\n                            \"10:30-11:30  \" + \"   余号 \" + res.data.data.tTOe\n                        );\n                    }\n                    if (!this.isTimeAfterTarget(\"15:30\") || !isToday) {\n                        array.push(\n                            \"14:30-15:30  \" + \"   余号 \" + res.data.data.fTOf\n                        );\n                    }\n                    if (!this.isTimeAfterTarget(\"16:30\") || !isToday) {\n                        array.push(\n                            \"15:30-16:30  \" + \"   余号 \" + res.data.data.fTOs\n                        );\n                    }\n                    if (!this.isTimeAfterTarget(\"17:30\") || !isToday) {\n                        array.push(\n                            \"16:30-17:30  \" + \"   余号 \" + res.data.data.sTOs\n                        );\n                    }\n                    this.times = array;\n                });\n        },\n        isTimeAfterTarget(timeString) {\n            // 判断时间是否超过timeString(入参格式如：09:30)\n            const currentTime = new Date();\n\n            // 解析传入的目标时间字符串，获取小时和分钟\n            const [targetHour, targetMinute] = timeString.split(\":\");\n\n            // 设置要比较的时间\n            const targetTime = new Date();\n            targetTime.setHours(targetHour);\n            targetTime.setMinutes(targetMinute);\n            targetTime.setSeconds(0);\n\n            // 比较当前时间是否超过了目标时间\n            return currentTime > targetTime;\n        },\n        //挂号点击确认\n        orderSuccess(formName) {\n            this.$refs[formName].validate((valid) => {\n                if (valid) {\n                    request\n                        .get(\"patient/addOrder\", {\n                            params: {\n                                pId: this.orderForm.pId,\n                                dId: this.orderForm.dId,\n                                oStart:\n                                    this.orderForm.orderDate +\n                                    \" \" +\n                                    this.orderForm.oTime,\n                                arId: this.idTime,\n                            },\n                        })\n                        .then((res) => {\n                            if (res.data.status != 200)\n                                return this.$message.error(\n                                    \"该时间段无剩余号源！请重新选择！\"\n                                );\n                            this.orderFormVisible = false;\n                            this.$message.success(\"挂号成功！\");\n                            this.orderForm.oTime = \"\";\n                        })\n                        .catch((e) => {\n                            if (e.response.data == undefined) {\n                                this.$message.error(e);\n                            } else {\n                                this.$message.error(e.response.data);\n                            }\n                        });\n                } else {\n                    console.log(\"error submit!!\");\n                    return false;\n                }\n            });\n        },\n        //token解码\n        tokenDecode(token) {\n            if (token !== null) return jwtDecode(token);\n        },\n        //打开挂号对话框\n        openClick(id, name) {\n            this.orderForm.dId = id;\n            this.orderForm.dName = name;\n            this.orderFormVisible = true;\n            //请求挂号时间段\n            this.requestTime(id);\n        },\n        //选择日期触发时间\n        dateClick(date) {\n            //获取挂号年月日\n            const nowDate = new Date();\n            let year = nowDate.getFullYear();\n            this.orderForm.orderDate = year + \"-\" + date;\n            let dateYear = year + \"-\" + date;\n            this.orderDate = dateYear;\n            request\n                .get(\"/arrange/findByTime\", {\n                    params: {\n                        arTime: dateYear,\n                        dSection: this.sectionOpt,\n                    },\n                })\n                .then((res) => {\n                    //this.sectionData.dId = res.data.data.doctors.dId;\n                    /**\n                     * 重点！！！把数组中的对象取出来用map\n                     */\n                    this.sectionData = res.data.data.map((item) => item.doctor);\n                    this.clickTag = true;\n                    console.log(res.data.data.map((item) => item.doctor));\n                    //console.log(res.data.data[0].doctor);\n                });\n        },\n        //获取当天及后7天的日期星期\n        nowDay(num) {\n            var nowDate = new Date();\n            var currentHour = nowDate.getHours();\n            var currentMinute = nowDate.getMinutes();\n\n            // 判断当前时间是否已经过了17:30\n            if (\n                currentHour > 17 ||\n                (currentHour === 17 && currentMinute > 30)\n            ) {\n                num++; // 次日\n            }\n\n            nowDate.setDate(nowDate.getDate() + num);\n            var month = nowDate.getMonth() + 1;\n            var date = nowDate.getDate();\n            if (date < 10) {\n                date = \"0\" + date;\n            }\n            if (month < 10) {\n                month = \"0\" + month;\n            }\n            var time = month + \"-\" + date;\n            this.monthDays.push(time);\n        },\n        //请求部门医生信息\n        requestSection() {\n            request\n                .get(\"patient/findDoctorBySection\", {\n                    params: {\n                        dSection: this.$route.query.sectionOpt,\n                    },\n                })\n                .then((res) => {\n                    if (res.data.status !== 200)\n                        return this.$message.error(\"请求数据失败\");\n                    this.sectionData = res.data.data.doctors;\n                    console.log(res.data.data.doctors);\n                });\n        },\n    },\n    created() {\n        //获取当天的后7天\n        for (var i = 0; i < 7; i++) {\n            this.nowDay(i);\n        }\n        //按科室请求医生信息\n        this.requestSection();\n        // 解码token\n        this.orderForm.pName = this.tokenDecode(getToken()).pName;\n        this.orderForm.pCard = this.tokenDecode(getToken()).pCard;\n        this.orderForm.pId = this.tokenDecode(getToken()).pId;\n        //console.log(this.orderForm.pId)\n    },\n};\n</script>\n<style scoped lang=\"scss\">\n.dateUl li {\n    display: inline;\n    //margin: 5px;\n    padding: 1px;\n}\n.dateUl {\n    margin: 10px;\n}\n.el-breadcrumb {\n    margin: 8px;\n}\n.head {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n.el-form {\n    margin-top: 0;\n}\n</style>"],"mappings":"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"}]}